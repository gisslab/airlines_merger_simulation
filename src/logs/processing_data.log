--------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/gisellelab/Work/airlines_merger_simulation/src/logs/processing_data.log
  log type:  text
 opened on:  19 Aug 2025, 17:44:52

. 
. 
. // ---------------------- PARAMETERS -------------------------------------------
. global YEARS   "2005/2019"

. global QUARTERS "1 2 3 4"

. global TYPE     "Market"   // DB1B “Market”

. 
. 
. di as yellow "--------------------------------------------------------------------------------------------------"
--------------------------------------------------------------------------------------------------

. di as yellow "----------------------------------- Running preprocessing_data.do --------------------------------"
----------------------------------- Running preprocessing_data.do --------------------------------

. di as yellow "--------------------------------------------------------------------------------------------------"
--------------------------------------------------------------------------------------------------

. 
. // ---------------------- LOAD AUXILIARY TABLES --------------------------------
. di as yellow "------------------------------------ Loading auxiliary tables ------------------------------------"
------------------------------------ Loading auxiliary tables ------------------------------------

. 
. // * City market lookup
. import delimited using "${PROC_OTHER}city_market_lookup.csv", varnames(1) clear stringcols(_all)
(encoding automatically selected: ISO-8859-1)
(2 vars, 5,987 obs)

. tempfile cities

. save `cities'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000001 saved as .dta format

. 
. // * Vacations (city-level flags) (only in the U.S.)
. import delimited using "${PROC_OTHER}vacations.csv", varnames(1) clear stringcols(_all)
(encoding automatically selected: ISO-8859-1)
(2 vars, 243 obs)

. rename origin_cities description

. destring vacation_spot, replace force
vacation_spot: all characters numeric; replaced as byte

. tempfile vacations

. save `vacations'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000002 saved as .dta format

. 
. // * City lookup + vacations
. use `cities', clear

. merge 1:1 description using `vacations', nogenerate

    Result                      Number of obs
    -----------------------------------------
    Not matched                         5,816
        from master                     5,780  
        from using                         36  

    Matched                               207  
    -----------------------------------------

. keep code vacation_spot

. 
. // # make int vacation_spot if float
. replace vacation_spot = 0 if vacation_spot==.
(5,780 real changes made)

. // code to long for merger
. destring code, replace
code: all characters numeric; replaced as long
(36 missing values generated)

. // Remove duplicates to ensure unique merge key
. duplicates drop code, force

Duplicates in terms of code

(35 observations deleted)

. gen long destcitymarketid = code  // for origin merge
(1 missing value generated)

. drop code

. tempfile cities_vac

. save `cities_vac'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000003 saved as .dta format

. 
. // * Population by airport-year
. import delimited using "${PROC_OTHER}population.csv", varnames(1) clear
(encoding automatically selected: ISO-8859-1)
(4 vars, 27,480 obs)

. // expected cols: airport, msa, year, population
. keep airport year population

. rename airport airport_id

. tempfile pops

. save `pops'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000004 saved as .dta format

. 
. // * Slot-controlled airports
. import delimited using "${PROC_OTHER}slot_controlled.csv", varnames(1) clear
(encoding automatically selected: ISO-8859-2)
(2 vars, 6,430 obs)

. // expected cols: airport, slot_controlled
. // ensure lowercase column names
. foreach v of varlist * {
  2.     local newname = lower("`v'")
  3.     if "`v'" != "`newname'" {
  4.         rename `v' `newname'
  5.     }
  6. }

. rename airport airport_id

. tempfile slots

. save `slots'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000005 saved as .dta format

. 
. // * T_MASTER_CORD (airport metadata; filter to CONUS)
. 
. import delimited using "${PROC_OTHER}t_master_cord.csv", varnames(1) clear
(encoding automatically selected: ISO-8859-1)
(28 vars, 18,944 obs)

. // ensure lowercase column names
. foreach v of varlist * {
  2.     local newname = lower("`v'")
  3.     if "`v'" != "`newname'" {
  4.         rename `v' `newname'
  5.     }
  6. }

. keep if airport_country_code_iso == "US" & !inlist(airport_state_code,"PR","VI","TT","HI","AK")
(13,182 observations deleted)

. 
. keep airport_id

. duplicates drop

Duplicates in terms of all variables

(3,596 observations deleted)

. rename airport_id originairportid  // for origin merge

. tempfile conus_origin

. save `conus_origin'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000006 saved as .dta format

. 
. // Create separate copy for destination merge
. rename originairportid destairportid

. tempfile conus_dest

. save `conus_dest'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000007 saved as .dta format

. 
. // * Lookup & Hub (wide) -> long(Code, carrier, hub)
. import delimited using "${PROC_OTHER}lookup_and_hub_r.csv", varnames(1) clear stringcols(_all)
(encoding automatically selected: ISO-8859-9)
(134 vars, 6,429 obs)

. 
. // ensure lowercase column names
. foreach v of varlist * {
  2.     local newname = lower("`v'")
  3.     if "`v'" != "`newname'" {
  4.         rename `v' `newname'
  5.     }
  6. }

. // expected cols: code, description, airport, then 100+ carrier columns (AA, DL, WN, NK, UA, …)
. drop description airport

. // Prefix all non-code columns with "hub_"
. unab allvars : *

. local rest : list allvars - code

. foreach v of local rest {
  2.     capture confirm variable `v'
  3.     if !_rc rename `v' hub_`v'
  4.     qui destring hub_`v', replace force
  5. }

. rename hub_code airport_code

. 
. // reshape to long on stub hub_
. qui reshape long hub_, i(airport_code) j(carrier) string

. rename airport_code airport_id

. rename hub_ hub

. replace hub = 0 if missing(hub)
(0 real changes made)

. tempfile hubs_long

. save `hubs_long'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000008 saved as .dta format

. 
. // CPI (already base=2008 index) — if yours is year,index
. // If the file has columns like year,index (2008=100), we’ll read and use as deflator map.
. import delimited using "${RAW_OTHER}cpi_index.csv", varnames(1) clear
(encoding automatically selected: ISO-8859-1)
(2 vars, 26 obs)

. // Expect columns: year,value  (value = 100 in 2008)
. keep year value

. rename value deflator_index

. tempfile cpi

. save `cpi'
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000009 saved as .dta format

. 
. // ---------------------- INIT OUTPUT ------------------------------------------
. capture confirm file "${OUT_FILE}"

. local appendflag =  0 // no! _rc==0  // if the file exists, we’ll append

. 
. // ---------------------- LOOP OVER YEARS/QUARTERS -----------------------------
. di as yellow "------------------------------------ Processing DB1B Market data ------------------------------------"
------------------------------------ Processing DB1B Market data ------------------------------------

.     forvalues Y = $YEARS {
  2.         // grab the year’s CPI deflator (index with 2008=100)
.         use `cpi', clear
  3.         keep if year==`Y'
  4.         qui summarize deflator_index
  5.         local DEF = r(mean)  // year-level deflator index
  6. 
.         foreach Q in $QUARTERS {
  7.             di as yellow "--------------------------------- Processing `Y' Q`Q' -------------------------------------
> -"
  8. 
.             // ---------------- Load one quarter market CSV -------------------
.             local fname = "db1b_market_`Y'q`Q'"
  9.             import delimited using "${PROC_DB1B}`fname'.csv", varnames(1) clear
 10.             
.             // If the 42nd var is junk "V" in the R flow, mirror that:
.             capture ds, has(varnum 42)
 11.             if !_rc {
 12.                 local v42 `r(varlist)'
 13.                 capture confirm variable `v42'
 14.                 if !_rc rename `v42' V
 15.             }
 16. 
.             // ---------------- Recreate key derived fields -------------------
.             // Real fare using CPI index (2008=100)
.             // If the CPI index is 100 in 2008, deflate by DEF/100:
.             gen double mktfare_real = mktfare / (`DEF'/100)
 17. 
.             // Keep "good" tickets, fare band, and CONUS airports
.             keep if tkcarrierchange==0
 18.             keep if mktfare_real>=25 & mktfare_real<=2500
 19. 
.             // Limit to CONUS origin/dest
.             tempfile current
 20.             save `current'
 21. 
.             use `current', clear
 22.             di as yellow "    ---------  Filtering CONUS airports ---------"
 23. 
.             merge m:1 originairportid using `conus_origin', keep(match master) nogenerate
 24. 
.             merge m:1 destairportid using `conus_dest', keep(match master) nogenerate
 25.             
.             // Market passengers per O-D (quarter)
.             bysort origincitymarketid destcitymarketid: egen double market_passengers = total(passengers)
 26.             // Keep markets >= 20 pax/day on average, scaled for 10% sample: 20*365/(4*10)
.             keep if market_passengers >= 20*365/(4*10)
 27. 
.             // Core variables for merging/aggregation
.             gen long   origin      = origincitymarketid
 28.             gen long   destination = destcitymarketid
 29.             gen str2   carrier     = tkcarrier
 30.             gen byte   nonstop     = (mktcoupons==1)
 31. 
.             // ---------------- Merge slot_controlled ------------------------
.             di as yellow "    ---------  Filtering slot-controlled airports ---------"
 32. 
.             gen airport_id = originairportid
 33.             merge m:1 airport_id using `slots', keep(match master) nogenerate
 34.             rename slot_controlled origin_slot_controlled
 35.             replace origin_slot_controlled = 0 if missing(origin_slot_controlled)
 36. 
.             replace airport_id = destairportid
 37.             merge m:1 airport_id using `slots', keep(match master) nogenerate
 38.             rename slot_controlled destination_slot_controlled
 39.             replace destination_slot_controlled = 0 if missing(destination_slot_controlled)
 40. 
.             drop airport_id
 41. 
.             // ---------------- Merge destination vacation flag ---------------
.             di as yellow "    ---------  Merging destination vacation flags ---------"
 42.             // Cities table keyed by Code (city market id) and vacation_spot
.             // cities_vac has: Code, vacation_spot -> now destcitymarketid
.             merge m:1 destcitymarketid using `cities_vac', ///
>                 keep(match master) nogenerate
 43.             rename vacation_spot destination_vacation
 44.             replace destination_vacation = 0 if missing(destination_vacation)
 45. 
.             // ---------------- Merge populations by airport-year -------------
.             di as yellow "    ---------  Merging airport populations ---------"
 46.             gen airport_id = originairportid
 47.             merge m:1 airport_id year using `pops', ///
>                 keep(match master) nogenerate
 48.             rename population origin_pop
 49.             replace origin_pop = . if origin_pop<=0
 50. 
.             replace airport_id = destairportid
 51.             merge m:1 airport_id year using `pops', ///
>                 keep(match master) nogenerate
 52.             rename population dest_pop
 53.             replace dest_pop = . if dest_pop<=0
 54. 
.             gen double market_size = sqrt(origin_pop * dest_pop)
 55.             drop airport_id
 56.             // drop origin_pop dest_pop // not sure if later needed
. 
.             // ---------------- Merge hub indicators (origin/dest) ------------
.             di as yellow "    ---------  Merging hub indicators ---------"
 57.             // hubs_long: Code, carrier, hub
.             // For airports we need Code==AirportID (lookup_and_hub_r used airport codes in "Code")
.             // For origin:
. 
.             gen airport_id = originairportid
 58.             merge m:1 airport_id carrier using `hubs_long', keep(match master) nogenerate
 59.             rename hub origin_hub
 60.             replace origin_hub = 0 if missing(origin_hub)
 61. 
.             replace airport_id = destairportid
 62.             merge m:1 airport_id carrier using `hubs_long', keep(match master) nogenerate
 63.             rename hub destination_hub
 64.             replace destination_hub = 0 if missing(destination_hub)
 65.             drop airport_id
 66. 
.             // ---------------- Aggregate to (O-D-carrier-quarter) ------------
.             di as yellow "    ---------  Aggregating to (O-D-carrier-quarter) ---------"
 67.             
.             // First calculate passenger-weighted averages for distance and fare variables
.             gen double weighted_distance = mktdistance * passengers
 68.             gen double weighted_nonstop_miles = nonstopmiles * passengers
 69.             gen double weighted_fare = mktfare_real * passengers
 70.             
.             // Collapse with appropriate aggregation methods
.             collapse ///
>                 (sum)   total_passengers = passengers ///
>                         weighted_distance weighted_nonstop_miles weighted_fare ///
>                 (mean)  market_size ///
>                         origin_hub destination_hub ///
>                         destination_vacation ///
>                         origin_slot_controlled destination_slot_controlled ///
>                         share_nonstop = nonstop, ///
>                 by(origin destination carrier year quarter)
 71. 
.             
.             // Calculate final weighted averages
.             gen double average_distance = weighted_distance / total_passengers
 72.             gen double average_nonstop_miles = weighted_nonstop_miles / total_passengers
 73.             gen double average_fare = weighted_fare / total_passengers
 74.             gen double average_extra_miles = average_distance - average_nonstop_miles
 75.             
.             // Clean up temporary variables
.             drop weighted_distance weighted_nonstop_miles weighted_fare
 76. 
. 
.             di as yellow "               Data collapsed to (O-D-carrier-quarter) level successfully, obs: " _N 
 77. 
.             di as yellow "    ---------  Creating identifiers ---------"
 78.             // ---------------- Identifiers and carrier types -----------------
.             // Use more efficient string creation to avoid "expression too long" error
.             tostring origin, gen(origin_str)
 79.             tostring destination, gen(dest_str)
 80.             gen str25 market = origin_str + "-" + dest_str
 81. 
.             tostring year, gen(year_str)
 82.             tostring quarter, gen(quarter_str)  
 83.             gen str25 time = year_str + "-" + quarter_str
 84.             drop year_str quarter_str origin_str dest_str
 85. 
.             di as yellow "    ---------  Creating carrier flags ---------"
 86. 
.             do "src/carrier_flags.do"
 87. 
.             di as yellow "    ---------  Creating rival stats ---------"
 88.             // * Create presence and num_markets variables first (needed for rival calculations)
.             
.             // Calculate number of fringe firms (non-major carriers) per market
.             // Assuming major_carrier_flag is created in carrier_flags.do
.             gen fringe = 1 - major
 89.             bysort origin destination year quarter: egen fringe_carriers = total(fringe)
 90.             
.             // Presence = carrier's share of passengers at ORIGIN in that year/quarter (across all destinations)
.             // First calculate total passengers by origin-carrier-year-quarter
.             bysort origin carrier year quarter: egen origin_carrier_pax = total(total_passengers)
 91.             // Then calculate total passengers by origin-year-quarter (all carriers)
.             bysort origin year quarter: egen origin_total_pax = total(total_passengers)
 92.             // Presence is the share
.             gen presence = origin_carrier_pax / origin_total_pax
 93.             replace presence = 0 if missing(presence)
 94.             
.             // num_markets = number of distinct destinations this carrier serves from this origin in year/quarter
.             bysort origin carrier year quarter: egen num_destinations = count(destination) // num_destinations
 95.             bysort carrier year quarter: egen num_markets = count(market) // num_markets defined as number of distinc
> t markets served by this carrier in this origin in year/quarter
 96. 
.             drop origin_carrier_pax origin_total_pax
 97.             
.             // calculate rival stats using presence and num_markets
.             // These are calculated at the O-D level (market level)
.             sort origin destination year quarter
 98.             by origin destination year quarter: egen double total_presence = total(presence)
 99.             by origin destination year quarter: egen double total_num_markets = total(num_markets)
100.             by origin destination year quarter: egen double total_num_destinations = total(num_destinations)
101.             by origin destination year quarter: egen double total_distance = total(average_distance)
102. 
.             // Calculate rival average X (for future IV use)
.             
.             by origin destination year quarter: gen double average_presence_rival = ///
>                 (total_presence - presence) / ( _N - 1 )
103.             by origin destination year quarter: gen double average_num_markets_rival = ///
>                 (total_num_markets - num_markets) / ( _N - 1 )
104.             by origin destination year quarter: gen double average_num_destinations_rival = ///
>                 (total_num_destinations - num_destinations) / ( _N - 1 )
105.             by origin destination year quarter: gen double average_distance_rival = ///
>             (total_distance - average_distance) / ( _N - 1 )
106. 
.             by origin destination year quarter: gen int rival_carriers = _N - 1
107.             
.             drop total_distance 
108.             
.             keep if rival_carriers > 0 // removing monopolies
109. 
.             // Note: Mkt share creation now moved to demand_estimation.do
. 
.             // ---------------- Append to CSV --------------------------------
.             di as yellow "    ---------  Writing data to output file ---------"
110.             
.             // Save current quarter data
.             tempfile quarter_data
111.             save `quarter_data', replace
112. 
.             // make sure types are correct
.             // mkt and time to str
.             
.             // Determine if we need column headers (first time writing)
.             if `appendflag' == 0 {
113.                 di as yellow "           Writing headers for first quarter..."
114.                 export delimited using "${OUT_FILE}", replace
115.                 local appendflag = 1
116.             }
117.             else {
118.                 di as yellow "           Appending `Y'Q`Q' data to existing file..."
119.                 // Load existing data and append new quarter
.                 preserve
120.                 import delimited using "${OUT_FILE}", clear
121.                 append using `quarter_data'
122.                 export delimited using "${OUT_FILE}", replace
123.                 restore
124.             }
125.             
.             di as green "           Successfully wrote `Y'Q`Q' data to ${OUT_FILE}"
126.         }
127.     }
(25 observations deleted)
--------------------------------- Processing 2005 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 4,663,809 obs)
(232,228 observations deleted)
(256,906 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000a saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       135,019
        from master                   135,019  
        from using                          0  

    Matched                         4,039,656  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       132,289
        from master                   132,289  
        from using                          0  

    Matched                         4,042,386  
    -----------------------------------------
(833,526 observations deleted)
(467 missing values generated)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,341,149  
    -----------------------------------------
(0 real changes made)
(3,341,149 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,341,149  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,341,149  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,409
        from master                    29,409  
        from using                          0  

    Matched                         3,311,740  
    -----------------------------------------
(0 real changes made)
(3,341,149 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,350
        from master                    28,350  
        from using                          0  

    Matched                         3,312,799  
    -----------------------------------------
(0 real changes made)
(56,421 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,341,149
        from master                 3,341,149  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,341,149 real changes made)
(3,341,149 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,341,149
        from master                 3,341,149  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,341,149 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 31452
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(9,894 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(18,067 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,443 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(11,355 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,981 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(174 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(115 missing values generated)
(115 missing values generated)
(115 missing values generated)
(115 missing values generated)
(115 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000b not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000b saved as .dta format
           Writing headers for first quarter...
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2005Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2005 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,329,759 obs)
(253,082 observations deleted)
(297,800 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000c saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       151,526
        from master                   151,526  
        from using                          0  

    Matched                         4,627,351  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       149,872
        from master                   149,872  
        from using                          0  

    Matched                         4,629,005  
    -----------------------------------------
(896,286 observations deleted)
(656 missing values generated)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,882,591  
    -----------------------------------------
(0 real changes made)
(3,882,591 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,882,591  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,882,591  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,505
        from master                    29,505  
        from using                          0  

    Matched                         3,853,086  
    -----------------------------------------
(0 real changes made)
(3,882,591 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,801
        from master                    28,801  
        from using                          0  

    Matched                         3,853,790  
    -----------------------------------------
(0 real changes made)
(57,258 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,882,591
        from master                 3,882,591  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,882,591 real changes made)
(3,882,591 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,882,591
        from master                 3,882,591  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,882,591 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 34413
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(10,500 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(19,514 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,581 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,168 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,585 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(211 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(136 missing values generated)
(136 missing values generated)
(136 missing values generated)
(136 missing values generated)
(136 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000d not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000d saved as .dta format
           Appending 2005Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 31,337 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was int, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2005Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2005 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,198,296 obs)
(266,451 observations deleted)
(306,044 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000f saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       150,502
        from master                   150,502  
        from using                          0  

    Matched                         4,475,299  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       147,584
        from master                   147,584  
        from using                          0  

    Matched                         4,478,217  
    -----------------------------------------
(883,083 observations deleted)
(472 missing values generated)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,742,718  
    -----------------------------------------
(0 real changes made)
(3,742,718 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,742,718  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,742,718  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        23,772
        from master                    23,772  
        from using                          0  

    Matched                         3,718,946  
    -----------------------------------------
(0 real changes made)
(3,742,718 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        23,406
        from master                    23,406  
        from using                          0  

    Matched                         3,719,312  
    -----------------------------------------
(0 real changes made)
(46,081 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,742,718
        from master                 3,742,718  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,742,718 real changes made)
(3,742,718 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,742,718
        from master                 3,742,718  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,742,718 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 34008
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(10,385 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(19,260 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,400 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(11,916 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,582 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(195 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(143 missing values generated)
(143 missing values generated)
(143 missing values generated)
(143 missing values generated)
(143 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000g not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000g saved as .dta format
           Appending 2005Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 65,614 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2005Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2005 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,131,012 obs)
(239,521 observations deleted)
(283,240 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000i saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       136,981
        from master                   136,981  
        from using                          0  

    Matched                         4,471,270  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       135,732
        from master                   135,732  
        from using                          0  

    Matched                         4,472,519  
    -----------------------------------------
(885,506 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,722,745  
    -----------------------------------------
(0 real changes made)
(3,722,745 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,722,745  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,722,745  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,926
        from master                    28,926  
        from using                          0  

    Matched                         3,693,819  
    -----------------------------------------
(0 real changes made)
(3,722,745 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,377
        from master                    28,377  
        from using                          0  

    Matched                         3,694,368  
    -----------------------------------------
(0 real changes made)
(56,300 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,722,745
        from master                 3,722,745  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,722,745 real changes made)
(3,722,745 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,722,745
        from master                 3,722,745  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,722,745 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 33009
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(10,485 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(19,070 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,212 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(11,861 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,711 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(230 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(141 missing values generated)
(141 missing values generated)
(141 missing values generated)
(141 missing values generated)
(141 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000j not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000j saved as .dta format
           Appending 2005Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 99,479 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2005Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2006 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 4,776,596 obs)
(237,891 observations deleted)
(244,142 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000l saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       135,969
        from master                   135,969  
        from using                          0  

    Matched                         4,158,594  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       133,436
        from master                   133,436  
        from using                          0  

    Matched                         4,161,127  
    -----------------------------------------
(827,738 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,466,825  
    -----------------------------------------
(0 real changes made)
(3,466,825 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,466,825  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,466,825  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        30,034
        from master                    30,034  
        from using                          0  

    Matched                         3,436,791  
    -----------------------------------------
(0 real changes made)
(3,466,825 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,518
        from master                    28,518  
        from using                          0  

    Matched                         3,438,307  
    -----------------------------------------
(0 real changes made)
(57,867 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,466,825
        from master                 3,466,825  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,466,825 real changes made)
(3,466,825 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,466,825
        from master                 3,466,825  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,466,825 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 31899
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(6,410 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(18,894 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(3,282 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,679 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(11,458 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,450 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(240 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(158 missing values generated)
(158 missing values generated)
(158 missing values generated)
(158 missing values generated)
(158 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000m not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000m saved as .dta format
           Appending 2006Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 132,347 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2006Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2006 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,476,476 obs)
(283,972 observations deleted)
(283,626 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000o saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       157,789
        from master                   157,789  
        from using                          0  

    Matched                         4,751,089  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       156,091
        from master                   156,091  
        from using                          0  

    Matched                         4,752,787  
    -----------------------------------------
(884,686 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,024,192  
    -----------------------------------------
(0 real changes made)
(4,024,192 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,024,192  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,024,192  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        31,825
        from master                    31,825  
        from using                          0  

    Matched                         3,992,367  
    -----------------------------------------
(0 real changes made)
(4,024,192 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        31,328
        from master                    31,328  
        from using                          0  

    Matched                         3,992,864  
    -----------------------------------------
(0 real changes made)
(62,328 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,024,192
        from master                 4,024,192  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,024,192 real changes made)
(4,024,192 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,024,192
        from master                 4,024,192  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,024,192 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 34912
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(6,996 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(20,512 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(3,662 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,856 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,445 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,851 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(246 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(160 missing values generated)
(160 missing values generated)
(160 missing values generated)
(160 missing values generated)
(160 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000p not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000p saved as .dta format
           Appending 2006Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 164,088 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2006Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2006 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,139,735 obs)
(266,545 observations deleted)
(321,451 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000r saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       151,321
        from master                   151,321  
        from using                          0  

    Matched                         4,400,418  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       147,712
        from master                   147,712  
        from using                          0  

    Matched                         4,404,027  
    -----------------------------------------
(865,726 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,686,013  
    -----------------------------------------
(0 real changes made)
(3,686,013 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,686,013  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,686,013  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        23,604
        from master                    23,604  
        from using                          0  

    Matched                         3,662,409  
    -----------------------------------------
(0 real changes made)
(3,686,013 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        22,898
        from master                    22,898  
        from using                          0  

    Matched                         3,663,115  
    -----------------------------------------
(0 real changes made)
(45,698 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,686,013
        from master                 3,686,013  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,686,013 real changes made)
(3,686,013 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,686,013
        from master                 3,686,013  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,686,013 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 34827
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(7,042 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(20,273 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(3,828 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,552 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,444 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,935 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(226 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(160 missing values generated)
(160 missing values generated)
(160 missing values generated)
(160 missing values generated)
(160 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000s not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000s saved as .dta format
           Appending 2006Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 198,840 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2006Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2006 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,141,974 obs)
(249,873 observations deleted)
(284,997 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000u saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       141,396
        from master                   141,396  
        from using                          0  

    Matched                         4,465,708  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       140,433
        from master                   140,433  
        from using                          0  

    Matched                         4,466,671  
    -----------------------------------------
(858,470 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,748,634  
    -----------------------------------------
(0 real changes made)
(3,748,634 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,748,634  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,748,634  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,973
        from master                    29,973  
        from using                          0  

    Matched                         3,718,661  
    -----------------------------------------
(0 real changes made)
(3,748,634 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,564
        from master                    29,564  
        from using                          0  

    Matched                         3,719,070  
    -----------------------------------------
(0 real changes made)
(58,454 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,748,634
        from master                 3,748,634  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,748,634 real changes made)
(3,748,634 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,748,634
        from master                 3,748,634  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,748,634 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 34603
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(6,967 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(20,157 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(3,885 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,418 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,418 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,966 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(237 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(154 missing values generated)
(154 missing values generated)
(154 missing values generated)
(154 missing values generated)
(154 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000v not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000v saved as .dta format
           Appending 2006Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 233,507 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2006Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2007 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 4,795,202 obs)
(239,000 observations deleted)
(267,207 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00000x saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       138,433
        from master                   138,433  
        from using                          0  

    Matched                         4,150,562  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       136,230
        from master                   136,230  
        from using                          0  

    Matched                         4,152,765  
    -----------------------------------------
(802,223 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,486,772  
    -----------------------------------------
(0 real changes made)
(3,486,772 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,486,772  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,486,772  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,425
        from master                    32,425  
        from using                          0  

    Matched                         3,454,347  
    -----------------------------------------
(0 real changes made)
(3,486,772 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        31,260
        from master                    31,260  
        from using                          0  

    Matched                         3,455,512  
    -----------------------------------------
(0 real changes made)
(63,066 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,486,772
        from master                 3,486,772  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,486,772 real changes made)
(3,486,772 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,486,772
        from master                 3,486,772  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,486,772 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 33046
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(6,302 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(16,016 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(7,877 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,655 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(11,767 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,991 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(241 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(162 missing values generated)
(162 missing values generated)
(162 missing values generated)
(162 missing values generated)
(162 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000010 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000010 saved as .dta format
           Appending 2007Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 267,956 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2007Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2007 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,388,985 obs)
(275,257 observations deleted)
(302,854 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000012 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       157,039
        from master                   157,039  
        from using                          0  

    Matched                         4,653,835  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       155,997
        from master                   155,997  
        from using                          0  

    Matched                         4,654,877  
    -----------------------------------------
(838,310 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,972,564  
    -----------------------------------------
(0 real changes made)
(3,972,564 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,972,564  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,972,564  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,885
        from master                    32,885  
        from using                          0  

    Matched                         3,939,679  
    -----------------------------------------
(0 real changes made)
(3,972,564 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,509
        from master                    32,509  
        from using                          0  

    Matched                         3,940,055  
    -----------------------------------------
(0 real changes made)
(64,679 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,972,564
        from master                 3,972,564  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,972,564 real changes made)
(3,972,564 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,972,564
        from master                 3,972,564  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,972,564 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 34983
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(6,024 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(17,223 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(8,530 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,670 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,733 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,415 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(265 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(185 missing values generated)
(185 missing values generated)
(185 missing values generated)
(185 missing values generated)
(185 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000013 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000013 saved as .dta format
           Appending 2007Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 300,840 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2007Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2007 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,255,983 obs)
(270,249 observations deleted)
(317,035 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000015 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       154,784
        from master                   154,784  
        from using                          0  

    Matched                         4,513,915  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       152,555
        from master                   152,555  
        from using                          0  

    Matched                         4,516,144  
    -----------------------------------------
(846,234 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,822,465  
    -----------------------------------------
(0 real changes made)
(3,822,465 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,822,465  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,822,465  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,249
        from master                    29,249  
        from using                          0  

    Matched                         3,793,216  
    -----------------------------------------
(0 real changes made)
(3,822,465 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,679
        from master                    28,679  
        from using                          0  

    Matched                         3,793,786  
    -----------------------------------------
(0 real changes made)
(57,272 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,822,465
        from master                 3,822,465  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,822,465 real changes made)
(3,822,465 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,822,465
        from master                 3,822,465  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,822,465 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 34076
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(5,323 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(17,019 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(8,534 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,406 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,704 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,421 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(260 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(173 missing values generated)
(173 missing values generated)
(173 missing values generated)
(173 missing values generated)
(173 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000016 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000016 saved as .dta format
           Appending 2007Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 335,638 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2007Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2007 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,338,581 obs)
(246,435 observations deleted)
(306,706 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000018 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       146,905
        from master                   146,905  
        from using                          0  

    Matched                         4,638,535  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       146,089
        from master                   146,089  
        from using                          0  

    Matched                         4,639,351  
    -----------------------------------------
(856,890 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,928,550  
    -----------------------------------------
(0 real changes made)
(3,928,550 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,928,550  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,928,550  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,386
        from master                    34,386  
        from using                          0  

    Matched                         3,894,164  
    -----------------------------------------
(0 real changes made)
(3,928,550 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,120
        from master                    34,120  
        from using                          0  

    Matched                         3,894,430  
    -----------------------------------------
(0 real changes made)
(67,654 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,928,550
        from master                 3,928,550  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,928,550 real changes made)
(3,928,550 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,928,550
        from master                 3,928,550  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,928,550 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 32859
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(4,729 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(16,693 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(8,285 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,069 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,350 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,324 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(289 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(168 missing values generated)
(168 missing values generated)
(168 missing values generated)
(168 missing values generated)
(168 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000019 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000019 saved as .dta format
           Appending 2007Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 369,541 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2007Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2008 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 4,976,283 obs)
(230,185 observations deleted)
(266,655 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001b saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       145,254
        from master                   145,254  
        from using                          0  

    Matched                         4,334,189  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       142,935
        from master                   142,935  
        from using                          0  

    Matched                         4,336,508  
    -----------------------------------------
(784,268 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,695,175  
    -----------------------------------------
(0 real changes made)
(3,695,175 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,695,175  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,695,175  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        35,771
        from master                    35,771  
        from using                          0  

    Matched                         3,659,404  
    -----------------------------------------
(0 real changes made)
(3,695,175 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,565
        from master                    34,565  
        from using                          0  

    Matched                         3,660,610  
    -----------------------------------------
(0 real changes made)
(69,680 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,695,175
        from master                 3,695,175  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,695,175 real changes made)
(3,695,175 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,695,175
        from master                 3,695,175  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,695,175 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 30029
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,336 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(14,995 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(7,666 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,869 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(11,202 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,938 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(272 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(177 missing values generated)
(177 missing values generated)
(177 missing values generated)
(177 missing values generated)
(177 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001c not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001c saved as .dta format
           Appending 2008Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 402,232 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2008Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2008 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,939,525 obs)
(268,075 observations deleted)
(308,363 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001e saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       163,523
        from master                   163,523  
        from using                          0  

    Matched                         5,199,564  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       160,831
        from master                   160,831  
        from using                          0  

    Matched                         5,202,256  
    -----------------------------------------
(866,228 observations deleted)
(6 missing values generated)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,496,859  
    -----------------------------------------
(0 real changes made)
(4,496,859 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,496,859  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,496,859  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        38,039
        from master                    38,039  
        from using                          0  

    Matched                         4,458,820  
    -----------------------------------------
(0 real changes made)
(4,496,859 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        37,437
        from master                    37,437  
        from using                          0  

    Matched                         4,459,422  
    -----------------------------------------
(0 real changes made)
(74,693 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,496,859
        from master                 4,496,859  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,496,859 real changes made)
(4,496,859 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,496,859
        from master                 4,496,859  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,496,859 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 34005
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,762 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(17,307 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(8,709 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,551 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,951 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,178 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(304 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(192 missing values generated)
(192 missing values generated)
(192 missing values generated)
(192 missing values generated)
(192 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001f not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001f saved as .dta format
           Appending 2008Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 432,084 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2008Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2008 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,251,799 obs)
(253,931 observations deleted)
(321,995 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001h saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       147,450
        from master                   147,450  
        from using                          0  

    Matched                         4,528,423  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       144,892
        from master                   144,892  
        from using                          0  

    Matched                         4,530,981  
    -----------------------------------------
(837,646 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,838,227  
    -----------------------------------------
(0 real changes made)
(3,838,227 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,838,227  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,838,227  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        31,276
        from master                    31,276  
        from using                          0  

    Matched                         3,806,951  
    -----------------------------------------
(0 real changes made)
(3,838,227 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        30,194
        from master                    30,194  
        from using                          0  

    Matched                         3,808,033  
    -----------------------------------------
(0 real changes made)
(60,705 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,838,227
        from master                 3,838,227  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,838,227 real changes made)
(3,838,227 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,838,227
        from master                 3,838,227  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,838,227 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 33010
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,632 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(16,766 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(8,463 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,153 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,576 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,887 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(258 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(169 missing values generated)
(169 missing values generated)
(169 missing values generated)
(169 missing values generated)
(169 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001i not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001i saved as .dta format
           Appending 2008Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 465,897 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2008Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2008 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,065,356 obs)
(227,603 observations deleted)
(291,352 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001k saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       129,579
        from master                   129,579  
        from using                          0  

    Matched                         4,416,822  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       129,359
        from master                   129,359  
        from using                          0  

    Matched                         4,417,042  
    -----------------------------------------
(816,494 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,729,907  
    -----------------------------------------
(0 real changes made)
(3,729,907 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,729,907  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,729,907  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,074
        from master                    29,074  
        from using                          0  

    Matched                         3,700,833  
    -----------------------------------------
(0 real changes made)
(3,729,907 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,304
        from master                    29,304  
        from using                          0  

    Matched                         3,700,603  
    -----------------------------------------
(0 real changes made)
(57,839 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,729,907
        from master                 3,729,907  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,729,907 real changes made)
(3,729,907 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,729,907
        from master                 3,729,907  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,729,907 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 31550
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,444 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(15,975 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(8,192 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,543 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,169 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,448 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(234 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(173 missing values generated)
(173 missing values generated)
(173 missing values generated)
(173 missing values generated)
(173 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001l not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001l saved as .dta format
           Appending 2008Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 498,738 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2008Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2009 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 4,383,572 obs)
(226,009 observations deleted)
(239,437 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001n saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       129,716
        from master                   129,716  
        from using                          0  

    Matched                         3,788,410  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       127,553
        from master                   127,553  
        from using                          0  

    Matched                         3,790,573  
    -----------------------------------------
(743,727 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,174,399  
    -----------------------------------------
(0 real changes made)
(3,174,399 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,174,399  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,174,399  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,717
        from master                    32,717  
        from using                          0  

    Matched                         3,141,682  
    -----------------------------------------
(0 real changes made)
(3,174,399 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        31,313
        from master                    31,313  
        from using                          0  

    Matched                         3,143,086  
    -----------------------------------------
(0 real changes made)
(63,543 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,174,399
        from master                 3,174,399  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,174,399 real changes made)
(3,174,399 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,174,399
        from master                 3,174,399  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,174,399 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 29620
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,159 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(12,894 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(9,972 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,691 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(11,374 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,350 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(214 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(178 missing values generated)
(178 missing values generated)
(178 missing values generated)
(178 missing values generated)
(178 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001o not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001o saved as .dta format
           Appending 2009Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 530,115 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2009Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2009 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,229,471 obs)
(286,392 observations deleted)
(280,947 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001q saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       141,453
        from master                   141,453  
        from using                          0  

    Matched                         4,520,679  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       140,880
        from master                   140,880  
        from using                          0  

    Matched                         4,521,252  
    -----------------------------------------
(822,832 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,839,300  
    -----------------------------------------
(0 real changes made)
(3,839,300 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,839,300  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,839,300  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,074
        from master                    32,074  
        from using                          0  

    Matched                         3,807,226  
    -----------------------------------------
(0 real changes made)
(3,839,300 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        31,990
        from master                    31,990  
        from using                          0  

    Matched                         3,807,310  
    -----------------------------------------
(0 real changes made)
(63,543 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,839,300
        from master                 3,839,300  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,839,300 real changes made)
(3,839,300 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,839,300
        from master                 3,839,300  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,839,300 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 32713
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,554 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(14,377 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(10,834 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,865 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,702 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,633 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(251 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(185 missing values generated)
(185 missing values generated)
(185 missing values generated)
(185 missing values generated)
(185 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001r not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001r saved as .dta format
           Appending 2009Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 559,557 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2009Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2009 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,330,911 obs)
(299,694 observations deleted)
(296,299 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001t saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       138,988
        from master                   138,988  
        from using                          0  

    Matched                         4,595,930  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       136,056
        from master                   136,056  
        from using                          0  

    Matched                         4,598,862  
    -----------------------------------------
(844,909 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,890,009  
    -----------------------------------------
(0 real changes made)
(3,890,009 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,890,009  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,890,009  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,176
        from master                    28,176  
        from using                          0  

    Matched                         3,861,833  
    -----------------------------------------
(0 real changes made)
(3,890,009 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        27,680
        from master                    27,680  
        from using                          0  

    Matched                         3,862,329  
    -----------------------------------------
(0 real changes made)
(55,324 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,890,009
        from master                 3,890,009  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,890,009 real changes made)
(3,890,009 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,890,009
        from master                 3,890,009  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,890,009 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 32458
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,429 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(14,363 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(10,787 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,628 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,718 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,699 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(242 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(164 missing values generated)
(164 missing values generated)
(164 missing values generated)
(164 missing values generated)
(164 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001u not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001u saved as .dta format
           Appending 2009Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 592,085 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2009Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2009 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,477,362 obs)
(284,669 observations deleted)
(269,472 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001w saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       128,809
        from master                   128,809  
        from using                          0  

    Matched                         4,794,412  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       128,666
        from master                   128,666  
        from using                          0  

    Matched                         4,794,555  
    -----------------------------------------
(823,133 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,100,088  
    -----------------------------------------
(0 real changes made)
(4,100,088 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,100,088  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,100,088  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,431
        from master                    29,431  
        from using                          0  

    Matched                         4,070,657  
    -----------------------------------------
(0 real changes made)
(4,100,088 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,918
        from master                    29,918  
        from using                          0  

    Matched                         4,070,170  
    -----------------------------------------
(0 real changes made)
(58,980 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,100,088
        from master                 4,100,088  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,100,088 real changes made)
(4,100,088 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,100,088
        from master                 4,100,088  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,100,088 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 31390
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,364 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(13,569 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(10,608 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,207 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(12,198 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,653 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(225 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(172 missing values generated)
(172 missing values generated)
(172 missing values generated)
(172 missing values generated)
(172 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001x not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00001x saved as .dta format
           Appending 2009Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 624,379 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2009Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2010 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 4,906,864 obs)
(217,272 observations deleted)
(241,380 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000021 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       131,771
        from master                   131,771  
        from using                          0  

    Matched                         4,316,441  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       129,586
        from master                   129,586  
        from using                          0  

    Matched                         4,318,626  
    -----------------------------------------
(788,989 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,659,223  
    -----------------------------------------
(0 real changes made)
(3,659,223 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,659,223  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,659,223  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,028
        from master                    34,028  
        from using                          0  

    Matched                         3,625,195  
    -----------------------------------------
(0 real changes made)
(3,659,223 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,172
        from master                    32,172  
        from using                          0  

    Matched                         3,627,051  
    -----------------------------------------
(0 real changes made)
(65,907 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,659,223
        from master                 3,659,223  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,659,223 real changes made)
(3,659,223 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,659,223
        from master                 3,659,223  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,659,223 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 30145
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,230 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(10,750 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(7,942 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,941 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(11,244 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,760 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(213 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(159 missing values generated)
(159 missing values generated)
(159 missing values generated)
(159 missing values generated)
(159 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000022 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000022 saved as .dta format
           Appending 2010Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 655,597 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2010Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2010 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,782,414 obs)
(227,506 observations deleted)
(281,240 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000024 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       150,639
        from master                   150,639  
        from using                          0  

    Matched                         5,123,029  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       149,806
        from master                   149,806  
        from using                          0  

    Matched                         5,123,862  
    -----------------------------------------
(878,255 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,395,413  
    -----------------------------------------
(0 real changes made)
(4,395,413 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,395,413  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,395,413  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        33,855
        from master                    33,855  
        from using                          0  

    Matched                         4,361,558  
    -----------------------------------------
(0 real changes made)
(4,395,413 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        33,280
        from master                    33,280  
        from using                          0  

    Matched                         4,362,133  
    -----------------------------------------
(0 real changes made)
(66,607 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,395,413
        from master                 4,395,413  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,395,413 real changes made)
(4,395,413 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,395,413
        from master                 4,395,413  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,395,413 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 30829
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,913 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(8,585 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(8,952 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,578 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,265 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,531 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(260 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(170 missing values generated)
(170 missing values generated)
(170 missing values generated)
(170 missing values generated)
(170 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000025 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000025 saved as .dta format
           Appending 2010Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 685,583 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2010Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2010 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,613,491 obs)
(235,554 observations deleted)
(308,883 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000027 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       149,164
        from master                   149,164  
        from using                          0  

    Matched                         4,919,890  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       146,234
        from master                   146,234  
        from using                          0  

    Matched                         4,922,820  
    -----------------------------------------
(890,720 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,178,334  
    -----------------------------------------
(0 real changes made)
(4,178,334 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,178,334  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,178,334  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        30,907
        from master                    30,907  
        from using                          0  

    Matched                         4,147,427  
    -----------------------------------------
(0 real changes made)
(4,178,334 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        29,859
        from master                    29,859  
        from using                          0  

    Matched                         4,148,475  
    -----------------------------------------
(0 real changes made)
(60,234 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,178,334
        from master                 4,178,334  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,178,334 real changes made)
(4,178,334 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,178,334
        from master                 4,178,334  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,178,334 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 31013
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,903 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(8,512 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(9,057 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,665 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,196 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,741 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(251 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(160 missing values generated)
(160 missing values generated)
(160 missing values generated)
(160 missing values generated)
(160 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000028 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000028 saved as .dta format
           Appending 2010Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 716,242 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2010Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2010 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,735,916 obs)
(222,734 observations deleted)
(277,717 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002a saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       144,565
        from master                   144,565  
        from using                          0  

    Matched                         5,090,900  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       143,862
        from master                   143,862  
        from using                          0  

    Matched                         5,091,603  
    -----------------------------------------
(890,749 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,344,716  
    -----------------------------------------
(0 real changes made)
(4,344,716 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,344,716  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,344,716  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,300
        from master                    32,300  
        from using                          0  

    Matched                         4,312,416  
    -----------------------------------------
(0 real changes made)
(4,344,716 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,375
        from master                    32,375  
        from using                          0  

    Matched                         4,312,341  
    -----------------------------------------
(0 real changes made)
(64,119 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,344,716
        from master                 4,344,716  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,344,716 real changes made)
(4,344,716 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,344,716
        from master                 4,344,716  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,344,716 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 29665
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(4,794 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(8,567 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(8,854 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,448 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(8,943 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,946 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(259 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(163 missing values generated)
(163 missing values generated)
(163 missing values generated)
(163 missing values generated)
(163 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002b not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002b saved as .dta format
           Appending 2010Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 747,095 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2010Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2011 Q1 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 5,382,059 obs)
(207,864 observations deleted)
(258,500 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002d saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       145,201
        from master                   145,201  
        from using                          0  

    Matched                         4,770,494  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       143,732
        from master                   143,732  
        from using                          0  

    Matched                         4,771,963  
    -----------------------------------------
(843,526 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,072,169  
    -----------------------------------------
(0 real changes made)
(4,072,169 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,072,169  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,072,169  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        38,712
        from master                    38,712  
        from using                          0  

    Matched                         4,033,457  
    -----------------------------------------
(0 real changes made)
(4,072,169 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        37,074
        from master                    37,074  
        from using                          0  

    Matched                         4,035,095  
    -----------------------------------------
(0 real changes made)
(75,403 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,072,169
        from master                 4,072,169  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,072,169 real changes made)
(4,072,169 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,072,169
        from master                 4,072,169  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,072,169 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 27628
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(12,594 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(12,722 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,594 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(8,269 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,490 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(236 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(185 missing values generated)
(185 missing values generated)
(185 missing values generated)
(185 missing values generated)
(185 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002e not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002e saved as .dta format
           Appending 2011Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 776,597 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2011Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2011 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,935,437 obs)
(270,226 observations deleted)
(300,154 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002g saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       159,033
        from master                   159,033  
        from using                          0  

    Matched                         5,206,024  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       159,157
        from master                   159,157  
        from using                          0  

    Matched                         5,205,900  
    -----------------------------------------
(886,875 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,478,182  
    -----------------------------------------
(0 real changes made)
(4,478,182 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,478,182  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,478,182  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        33,494
        from master                    33,494  
        from using                          0  

    Matched                         4,444,688  
    -----------------------------------------
(0 real changes made)
(4,478,182 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,969
        from master                    32,969  
        from using                          0  

    Matched                         4,445,213  
    -----------------------------------------
(0 real changes made)
(66,107 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,478,182
        from master                 4,478,182  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,478,182 real changes made)
(4,478,182 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,478,182
        from master                 4,478,182  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,478,182 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 30746
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(14,173 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(14,100 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(14,173 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,199 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,913 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(316 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(204 missing values generated)
(204 missing values generated)
(204 missing values generated)
(204 missing values generated)
(204 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002h not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002h saved as .dta format
           Appending 2011Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 804,040 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2011Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2011 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,931,080 obs)
(269,491 observations deleted)
(318,335 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002j saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       162,536
        from master                   162,536  
        from using                          0  

    Matched                         5,180,718  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       159,980
        from master                   159,980  
        from using                          0  

    Matched                         5,183,274  
    -----------------------------------------
(903,964 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,439,290  
    -----------------------------------------
(0 real changes made)
(4,439,290 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,439,290  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,439,290  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        31,406
        from master                    31,406  
        from using                          0  

    Matched                         4,407,884  
    -----------------------------------------
(0 real changes made)
(4,439,290 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        30,306
        from master                    30,306  
        from using                          0  

    Matched                         4,408,984  
    -----------------------------------------
(0 real changes made)
(61,353 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,439,290
        from master                 4,439,290  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,439,290 real changes made)
(4,439,290 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,439,290
        from master                 4,439,290  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,439,290 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 30677
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(14,257 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(13,994 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(14,257 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,148 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,858 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(340 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(203 missing values generated)
(203 missing values generated)
(203 missing values generated)
(203 missing values generated)
(203 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002k not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002k saved as .dta format
           Appending 2011Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 834,582 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2011Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2011 Q4 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 5,750,599 obs)
(236,914 observations deleted)
(286,601 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002m saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       152,223
        from master                   152,223  
        from using                          0  

    Matched                         5,074,861  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       151,471
        from master                   151,471  
        from using                          0  

    Matched                         5,075,613  
    -----------------------------------------
(874,188 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,352,896  
    -----------------------------------------
(0 real changes made)
(4,352,896 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,352,896  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,352,896  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,152
        from master                    34,152  
        from using                          0  

    Matched                         4,318,744  
    -----------------------------------------
(0 real changes made)
(4,352,896 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,215
        from master                    34,215  
        from using                          0  

    Matched                         4,318,681  
    -----------------------------------------
(0 real changes made)
(67,663 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,352,896
        from master                 4,352,896  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,352,896 real changes made)
(4,352,896 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,352,896
        from master                 4,352,896  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,352,896 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 29490
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(13,628 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(13,530 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(13,628 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(8,860 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,683 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(324 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(200 missing values generated)
(200 missing values generated)
(200 missing values generated)
(200 missing values generated)
(200 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002n not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002n saved as .dta format
           Appending 2011Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 865,056 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2011Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2012 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,307,048 obs)
(179,695 observations deleted)
(274,497 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002p saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       152,676
        from master                   152,676  
        from using                          0  

    Matched                         4,700,180  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       151,018
        from master                   151,018  
        from using                          0  

    Matched                         4,701,838  
    -----------------------------------------
(859,010 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,993,846  
    -----------------------------------------
(0 real changes made)
(3,993,846 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,993,846  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         3,993,846  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        38,106
        from master                    38,106  
        from using                          0  

    Matched                         3,955,740  
    -----------------------------------------
(0 real changes made)
(3,993,846 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        36,633
        from master                    36,633  
        from using                          0  

    Matched                         3,957,213  
    -----------------------------------------
(0 real changes made)
(73,968 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,993,846
        from master                 3,993,846  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,993,846 real changes made)
(3,993,846 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     3,993,846
        from master                 3,993,846  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(3,993,846 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 24306
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(10,419 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(11,695 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,029 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(8,632 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,470 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(327 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(219 missing values generated)
(219 missing values generated)
(219 missing values generated)
(219 missing values generated)
(219 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002q not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002q saved as .dta format
           Appending 2012Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 894,346 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2012Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2012 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,879,839 obs)
(214,263 observations deleted)
(299,318 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002s saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       168,078
        from master                   168,078  
        from using                          0  

    Matched                         5,198,180  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       168,292
        from master                   168,292  
        from using                          0  

    Matched                         5,197,966  
    -----------------------------------------
(899,904 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,466,354  
    -----------------------------------------
(0 real changes made)
(4,466,354 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,466,354  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,466,354  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        36,944
        from master                    36,944  
        from using                          0  

    Matched                         4,429,410  
    -----------------------------------------
(0 real changes made)
(4,466,354 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        36,403
        from master                    36,403  
        from using                          0  

    Matched                         4,429,951  
    -----------------------------------------
(0 real changes made)
(72,278 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,466,354
        from master                 4,466,354  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,466,354 real changes made)
(4,466,354 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,466,354
        from master                 4,466,354  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,466,354 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 26278
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(11,187 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(12,714 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,692 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,435 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,790 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(434 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(281 missing values generated)
(281 missing values generated)
(281 missing values generated)
(281 missing values generated)
(281 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002t not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002t saved as .dta format
           Appending 2012Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 918,433 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2012Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2012 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,736,949 obs)
(217,644 observations deleted)
(305,042 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002v saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       161,706
        from master                   161,706  
        from using                          0  

    Matched                         5,052,557  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       159,185
        from master                   159,185  
        from using                          0  

    Matched                         5,055,078  
    -----------------------------------------
(892,298 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,321,965  
    -----------------------------------------
(0 real changes made)
(4,321,965 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,321,965  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,321,965  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        33,589
        from master                    33,589  
        from using                          0  

    Matched                         4,288,376  
    -----------------------------------------
(0 real changes made)
(4,321,965 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,691
        from master                    32,691  
        from using                          0  

    Matched                         4,289,274  
    -----------------------------------------
(0 real changes made)
(65,223 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,321,965
        from master                 4,321,965  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,321,965 real changes made)
(4,321,965 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,321,965
        from master                 4,321,965  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,321,965 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 26000
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(10,976 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(12,667 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,639 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,400 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,619 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(429 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(253 missing values generated)
(253 missing values generated)
(253 missing values generated)
(253 missing values generated)
(253 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002w not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00002w saved as .dta format
           Appending 2012Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 944,430 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2012Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2012 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,780,006 obs)
(203,200 observations deleted)
(294,682 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000030 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       162,713
        from master                   162,713  
        from using                          0  

    Matched                         5,119,411  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       162,608
        from master                   162,608  
        from using                          0  

    Matched                         5,119,516  
    -----------------------------------------
(863,517 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,418,607  
    -----------------------------------------
(0 real changes made)
(4,418,607 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,418,607  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,418,607  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        37,049
        from master                    37,049  
        from using                          0  

    Matched                         4,381,558  
    -----------------------------------------
(0 real changes made)
(4,418,607 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        37,195
        from master                    37,195  
        from using                          0  

    Matched                         4,381,412  
    -----------------------------------------
(0 real changes made)
(73,141 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,418,607
        from master                 4,418,607  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,418,607 real changes made)
(4,418,607 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,418,607
        from master                 4,418,607  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,418,607 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 25323
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(10,694 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(12,423 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,392 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,164 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,578 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(477 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(245 missing values generated)
(245 missing values generated)
(245 missing values generated)
(245 missing values generated)
(245 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000031 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000031 saved as .dta format
           Appending 2012Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 970,177 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2012Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2013 Q1 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 5,259,289 obs)
(189,284 observations deleted)
(253,594 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000033 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       165,993
        from master                   165,993  
        from using                          0  

    Matched                         4,650,418  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       164,417
        from master                   164,417  
        from using                          0  

    Matched                         4,651,994  
    -----------------------------------------
(808,839 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,007,572  
    -----------------------------------------
(0 real changes made)
(4,007,572 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,007,572  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,007,572  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        41,175
        from master                    41,175  
        from using                          0  

    Matched                         3,966,397  
    -----------------------------------------
(0 real changes made)
(4,007,572 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        40,233
        from master                    40,233  
        from using                          0  

    Matched                         3,967,339  
    -----------------------------------------
(0 real changes made)
(80,547 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,007,572
        from master                 4,007,572  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,007,572 real changes made)
(4,007,572 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,007,572
        from master                 4,007,572  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,007,572 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 24022
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(9,895 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(12,227 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(135 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(8,855 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(8,578 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,357 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(472 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(257 missing values generated)
(257 missing values generated)
(257 missing values generated)
(257 missing values generated)
(257 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000034 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000034 saved as .dta format
           Appending 2013Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 995,255 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2013Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2013 Q2 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,029,125 obs)
(223,848 observations deleted)
(289,636 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000036 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       182,670
        from master                   182,670  
        from using                          0  

    Matched                         5,332,971  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       182,778
        from master                   182,778  
        from using                          0  

    Matched                         5,332,863  
    -----------------------------------------
(896,463 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,619,178  
    -----------------------------------------
(0 real changes made)
(4,619,178 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,619,178  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,619,178  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        39,575
        from master                    39,575  
        from using                          0  

    Matched                         4,579,603  
    -----------------------------------------
(0 real changes made)
(4,619,178 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        39,020
        from master                    39,020  
        from using                          0  

    Matched                         4,580,158  
    -----------------------------------------
(0 real changes made)
(78,239 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,619,178
        from master                 4,619,178  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,619,178 real changes made)
(4,619,178 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,619,178
        from master                 4,619,178  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,619,178 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 26946
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(10,858 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(13,903 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(160 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,755 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,464 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,140 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(544 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(325 missing values generated)
(325 missing values generated)
(325 missing values generated)
(325 missing values generated)
(325 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000037 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000037 saved as .dta format
           Appending 2013Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,019,020 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2013Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2013 Q3 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 5,815,426 obs)
(211,237 observations deleted)
(316,532 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000039 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       177,314
        from master                   177,314  
        from using                          0  

    Matched                         5,110,343  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       174,008
        from master                   174,008  
        from using                          0  

    Matched                         5,113,649  
    -----------------------------------------
(915,357 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,372,300  
    -----------------------------------------
(0 real changes made)
(4,372,300 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,372,300  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,372,300  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        35,362
        from master                    35,362  
        from using                          0  

    Matched                         4,336,938  
    -----------------------------------------
(0 real changes made)
(4,372,300 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,181
        from master                    34,181  
        from using                          0  

    Matched                         4,338,119  
    -----------------------------------------
(0 real changes made)
(69,122 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,372,300
        from master                 4,372,300  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,372,300 real changes made)
(4,372,300 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,372,300
        from master                 4,372,300  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,372,300 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 26755
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(10,821 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(13,747 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(152 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,727 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,308 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,154 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(519 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(287 missing values generated)
(287 missing values generated)
(287 missing values generated)
(287 missing values generated)
(287 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003a not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003a saved as .dta format
           Appending 2013Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,045,641 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2013Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2013 Q4 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 5,743,523 obs)
(198,754 observations deleted)
(307,025 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003c saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       159,191
        from master                   159,191  
        from using                          0  

    Matched                         5,078,553  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       159,832
        from master                   159,832  
        from using                          0  

    Matched                         5,077,912  
    -----------------------------------------
(886,563 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,351,181  
    -----------------------------------------
(0 real changes made)
(4,351,181 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,351,181  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,351,181  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        37,609
        from master                    37,609  
        from using                          0  

    Matched                         4,313,572  
    -----------------------------------------
(0 real changes made)
(4,351,181 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        37,563
        from master                    37,563  
        from using                          0  

    Matched                         4,313,618  
    -----------------------------------------
(0 real changes made)
(74,704 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,351,181
        from master                 4,351,181  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,351,181 real changes made)
(4,351,181 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,351,181
        from master                 4,351,181  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,351,181 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 26208
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(10,489 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(13,507 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(135 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,491 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,120 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,029 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(515 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(334 missing values generated)
(334 missing values generated)
(334 missing values generated)
(334 missing values generated)
(334 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003d not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003d saved as .dta format
           Appending 2013Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,072,109 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2013Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2014 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,421,606 obs)
(215,030 observations deleted)
(273,665 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003f saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       158,684
        from master                   158,684  
        from using                          0  

    Matched                         4,774,227  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       155,894
        from master                   155,894  
        from using                          0  

    Matched                         4,777,017  
    -----------------------------------------
(848,777 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,084,134  
    -----------------------------------------
(0 real changes made)
(4,084,134 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,084,134  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,084,134  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        41,436
        from master                    41,436  
        from using                          0  

    Matched                         4,042,698  
    -----------------------------------------
(0 real changes made)
(4,084,134 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        39,238
        from master                    39,238  
        from using                          0  

    Matched                         4,044,896  
    -----------------------------------------
(0 real changes made)
(80,047 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,084,134
        from master                 4,084,134  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,084,134 real changes made)
(4,084,134 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,084,134
        from master                 4,084,134  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,084,134 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 25415
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(10,602 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(12,965 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,555 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(8,791 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,741 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(477 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(320 missing values generated)
(320 missing values generated)
(320 missing values generated)
(320 missing values generated)
(320 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003g not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003g saved as .dta format
           Appending 2014Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,097,983 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2014Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2014 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 6,295,145 obs)
(244,724 observations deleted)
(304,786 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003i saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       176,919
        from master                   176,919  
        from using                          0  

    Matched                         5,568,716  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       175,944
        from master                   175,944  
        from using                          0  

    Matched                         5,569,691  
    -----------------------------------------
(929,878 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,815,757  
    -----------------------------------------
(0 real changes made)
(4,815,757 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,815,757  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,815,757  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        39,442
        from master                    39,442  
        from using                          0  

    Matched                         4,776,315  
    -----------------------------------------
(0 real changes made)
(4,815,757 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        38,136
        from master                    38,136  
        from using                          0  

    Matched                         4,777,621  
    -----------------------------------------
(0 real changes made)
(76,803 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,815,757
        from master                 4,815,757  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,815,757 real changes made)
(4,815,757 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,815,757
        from master                 4,815,757  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,815,757 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 27561
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(11,656 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(14,052 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,481 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,478 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,179 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(567 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(353 missing values generated)
(353 missing values generated)
(353 missing values generated)
(353 missing values generated)
(353 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003j not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003j saved as .dta format
           Appending 2014Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,123,078 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2014Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2014 Q3 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,380,810 obs)
(231,049 observations deleted)
(352,887 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003l saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       182,263
        from master                   182,263  
        from using                          0  

    Matched                         5,614,611  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       177,703
        from master                   177,703  
        from using                          0  

    Matched                         5,619,171  
    -----------------------------------------
(958,541 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,838,333  
    -----------------------------------------
(0 real changes made)
(4,838,333 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,838,333  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,838,333  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        38,873
        from master                    38,873  
        from using                          0  

    Matched                         4,799,460  
    -----------------------------------------
(0 real changes made)
(4,838,333 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        36,667
        from master                    36,667  
        from using                          0  

    Matched                         4,801,666  
    -----------------------------------------
(0 real changes made)
(74,360 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,838,333
        from master                 4,838,333  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,838,333 real changes made)
(4,838,333 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,838,333
        from master                 4,838,333  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,838,333 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 27182
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(11,617 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(13,975 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,380 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,449 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,159 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(582 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(321 missing values generated)
(321 missing values generated)
(321 missing values generated)
(321 missing values generated)
(321 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003m not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003m saved as .dta format
           Appending 2014Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,150,286 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2014Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2014 Q4 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,275,151 obs)
(216,411 observations deleted)
(326,625 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003o saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       170,654
        from master                   170,654  
        from using                          0  

    Matched                         5,561,461  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       170,196
        from master                   170,196  
        from using                          0  

    Matched                         5,561,919  
    -----------------------------------------
(933,356 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,798,759  
    -----------------------------------------
(0 real changes made)
(4,798,759 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,798,759  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,798,759  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        39,929
        from master                    39,929  
        from using                          0  

    Matched                         4,758,830  
    -----------------------------------------
(0 real changes made)
(4,798,759 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        39,662
        from master                    39,662  
        from using                          0  

    Matched                         4,759,097  
    -----------------------------------------
(0 real changes made)
(78,688 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,798,759
        from master                 4,798,759  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,798,759 real changes made)
(4,798,759 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,798,759
        from master                 4,798,759  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,798,759 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 26031
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(11,272 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(13,642 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,054 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,195 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,045 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(595 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(349 missing values generated)
(349 missing values generated)
(349 missing values generated)
(349 missing values generated)
(349 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003p not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003p saved as .dta format
           Appending 2014Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,177,147 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2014Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2015 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,582,629 obs)
(237,573 observations deleted)
(268,028 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003r saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       170,388
        from master                   170,388  
        from using                          0  

    Matched                         4,906,640  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       166,269
        from master                   166,269  
        from using                          0  

    Matched                         4,910,759  
    -----------------------------------------
(865,328 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,211,700  
    -----------------------------------------
(0 real changes made)
(4,211,700 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,211,700  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,211,700  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        45,694
        from master                    45,694  
        from using                          0  

    Matched                         4,166,006  
    -----------------------------------------
(0 real changes made)
(4,211,700 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        43,543
        from master                    43,543  
        from using                          0  

    Matched                         4,168,157  
    -----------------------------------------
(0 real changes made)
(88,363 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,211,700
        from master                 4,211,700  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,211,700 real changes made)
(4,211,700 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,211,700
        from master                 4,211,700  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,211,700 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 24061
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(10,533 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(12,952 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,549 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(8,698 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,618 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(595 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(331 missing values generated)
(331 missing values generated)
(331 missing values generated)
(331 missing values generated)
(331 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003s not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003s saved as .dta format
           Appending 2015Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,202,829 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2015Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2015 Q2 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,594,239 obs)
(312,653 observations deleted)
(305,869 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003u saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       192,172
        from master                   192,172  
        from using                          0  

    Matched                         5,783,545  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       189,238
        from master                   189,238  
        from using                          0  

    Matched                         5,786,479  
    -----------------------------------------
(943,259 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,032,458  
    -----------------------------------------
(0 real changes made)
(5,032,458 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,032,458  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,032,458  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        45,476
        from master                    45,476  
        from using                          0  

    Matched                         4,986,982  
    -----------------------------------------
(0 real changes made)
(5,032,458 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        43,823
        from master                    43,823  
        from using                          0  

    Matched                         4,988,635  
    -----------------------------------------
(0 real changes made)
(88,568 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,032,458
        from master                 5,032,458  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,032,458 real changes made)
(5,032,458 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,032,458
        from master                 5,032,458  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,032,458 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 26717
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(11,643 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(14,380 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,692 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(9,670 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,958 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(687 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(343 missing values generated)
(343 missing values generated)
(343 missing values generated)
(343 missing values generated)
(343 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003v not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003v saved as .dta format
           Appending 2015Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,226,559 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2015Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2015 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 6,438,733 obs)
(196,740 observations deleted)
(332,020 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00003x saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       188,550
        from master                   188,550  
        from using                          0  

    Matched                         5,721,423  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       184,600
        from master                   184,600  
        from using                          0  

    Matched                         5,725,373  
    -----------------------------------------
(959,424 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,950,549  
    -----------------------------------------
(0 real changes made)
(4,950,549 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,950,549  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,950,549  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        41,108
        from master                    41,108  
        from using                          0  

    Matched                         4,909,441  
    -----------------------------------------
(0 real changes made)
(4,950,549 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        39,628
        from master                    39,628  
        from using                          0  

    Matched                         4,910,921  
    -----------------------------------------
(0 real changes made)
(79,874 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,950,549
        from master                 4,950,549  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,950,549 real changes made)
(4,950,549 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,950,549
        from master                 4,950,549  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,950,549 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 22168
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(11,744 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(9,709 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,974 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(4,978 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,800 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(662 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(374 missing values generated)
(374 missing values generated)
(374 missing values generated)
(374 missing values generated)
(374 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000040 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000040 saved as .dta format
           Appending 2015Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,252,933 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2015Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2015 Q4 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,408,010 obs)
(175,339 observations deleted)
(327,245 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000042 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       180,643
        from master                   180,643  
        from using                          0  

    Matched                         5,724,783  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       181,638
        from master                   181,638  
        from using                          0  

    Matched                         5,723,788  
    -----------------------------------------
(890,435 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,014,991  
    -----------------------------------------
(0 real changes made)
(5,014,991 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,014,991  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,014,991  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        42,739
        from master                    42,739  
        from using                          0  

    Matched                         4,972,252  
    -----------------------------------------
(0 real changes made)
(5,014,991 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        43,413
        from master                    43,413  
        from using                          0  

    Matched                         4,971,578  
    -----------------------------------------
(0 real changes made)
(85,273 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,014,991
        from master                 5,014,991  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,014,991 real changes made)
(5,014,991 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,014,991
        from master                 5,014,991  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,014,991 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 21646
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(11,461 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(9,534 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,654 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(4,793 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,797 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(687 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(383 missing values generated)
(383 missing values generated)
(383 missing values generated)
(383 missing values generated)
(383 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000043 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000043 saved as .dta format
           Appending 2015Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,274,727 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2015Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2016 Q1 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 5,858,752 obs)
(148,826 observations deleted)
(297,714 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000045 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       182,929
        from master                   182,929  
        from using                          0  

    Matched                         5,229,283  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       179,201
        from master                   179,201  
        from using                          0  

    Matched                         5,233,011  
    -----------------------------------------
(860,128 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,552,084  
    -----------------------------------------
(0 real changes made)
(4,552,084 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,552,084  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,552,084  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        49,616
        from master                    49,616  
        from using                          0  

    Matched                         4,502,468  
    -----------------------------------------
(0 real changes made)
(4,552,084 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        47,145
        from master                    47,145  
        from using                          0  

    Matched                         4,504,939  
    -----------------------------------------
(0 real changes made)
(95,947 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,552,084
        from master                 4,552,084  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,552,084 real changes made)
(4,552,084 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,552,084
        from master                 4,552,084  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,552,084 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 20456
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(10,799 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(9,002 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(9,972 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(4,478 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,612 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(657 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(358 missing values generated)
(358 missing values generated)
(358 missing values generated)
(358 missing values generated)
(358 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000046 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000046 saved as .dta format
           Appending 2016Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,295,990 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2016Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2016 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 6,605,176 obs)
(163,168 observations deleted)
(332,436 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000048 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       197,829
        from master                   197,829  
        from using                          0  

    Matched                         5,911,743  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       196,250
        from master                   196,250  
        from using                          0  

    Matched                         5,913,322  
    -----------------------------------------
(912,420 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,197,152  
    -----------------------------------------
(0 real changes made)
(5,197,152 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,197,152  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,197,152  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        45,133
        from master                    45,133  
        from using                          0  

    Matched                         5,152,019  
    -----------------------------------------
(0 real changes made)
(5,197,152 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        43,693
        from master                    43,693  
        from using                          0  

    Matched                         5,153,459  
    -----------------------------------------
(0 real changes made)
(88,079 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,197,152
        from master                 5,197,152  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,197,152 real changes made)
(5,197,152 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,197,152
        from master                 5,197,152  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,197,152 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 23141
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(12,304 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(10,026 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,278 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,002 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,226 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(756 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(402 missing values generated)
(402 missing values generated)
(402 missing values generated)
(402 missing values generated)
(402 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000049 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000049 saved as .dta format
           Appending 2016Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,316,088 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2016Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2016 Q3 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 6,504,752 obs)
(177,466 observations deleted)
(363,687 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004b saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       189,315
        from master                   189,315  
        from using                          0  

    Matched                         5,774,284  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       185,711
        from master                   185,711  
        from using                          0  

    Matched                         5,777,888  
    -----------------------------------------
(946,639 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,016,960  
    -----------------------------------------
(0 real changes made)
(5,016,960 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,016,960  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,016,960  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        38,610
        from master                    38,610  
        from using                          0  

    Matched                         4,978,350  
    -----------------------------------------
(0 real changes made)
(5,016,960 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        37,414
        from master                    37,414  
        from using                          0  

    Matched                         4,979,546  
    -----------------------------------------
(0 real changes made)
(75,162 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,016,960
        from master                 5,016,960  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,016,960 real changes made)
(5,016,960 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,016,960
        from master                 5,016,960  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,016,960 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 23351
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(12,468 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(10,063 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,398 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,098 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,228 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(720 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(405 missing values generated)
(405 missing values generated)
(405 missing values generated)
(405 missing values generated)
(405 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004c not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004c saved as .dta format
           Appending 2016Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,338,827 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2016Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2016 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 6,567,113 obs)
(149,567 observations deleted)
(358,329 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004e saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       184,347
        from master                   184,347  
        from using                          0  

    Matched                         5,874,870  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       185,747
        from master                   185,747  
        from using                          0  

    Matched                         5,873,470  
    -----------------------------------------
(930,128 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,129,089  
    -----------------------------------------
(0 real changes made)
(5,129,089 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,129,089  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,129,089  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        43,285
        from master                    43,285  
        from using                          0  

    Matched                         5,085,804  
    -----------------------------------------
(0 real changes made)
(5,129,089 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        43,757
        from master                    43,757  
        from using                          0  

    Matched                         5,085,332  
    -----------------------------------------
(0 real changes made)
(86,166 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,129,089
        from master                 5,129,089  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,129,089 real changes made)
(5,129,089 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,129,089
        from master                 5,129,089  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,129,089 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 22631
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(11,974 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(9,875 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,947 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(4,906 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,171 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(772 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(400 missing values generated)
(400 missing values generated)
(400 missing values generated)
(400 missing values generated)
(400 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004f not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004f saved as .dta format
           Appending 2016Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,361,773 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2016Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2017 Q1 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 5,866,623 obs)
(133,802 observations deleted)
(337,843 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004h saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       183,132
        from master                   183,132  
        from using                          0  

    Matched                         5,211,846  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       179,305
        from master                   179,305  
        from using                          0  

    Matched                         5,215,673  
    -----------------------------------------
(872,664 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,522,314  
    -----------------------------------------
(0 real changes made)
(4,522,314 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,522,314  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,522,314  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        46,215
        from master                    46,215  
        from using                          0  

    Matched                         4,476,099  
    -----------------------------------------
(0 real changes made)
(4,522,314 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        44,230
        from master                    44,230  
        from using                          0  

    Matched                         4,478,084  
    -----------------------------------------
(0 real changes made)
(89,691 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,522,314
        from master                 4,522,314  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,522,314 real changes made)
(4,522,314 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,522,314
        from master                 4,522,314  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,522,314 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 21598
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(12,984 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(8,442 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,453 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(4,678 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(4,906 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(736 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(363 missing values generated)
(363 missing values generated)
(363 missing values generated)
(363 missing values generated)
(363 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004i not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004i saved as .dta format
           Appending 2017Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,384,004 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2017Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2017 Q2 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 6,566,460 obs)
(154,914 observations deleted)
(350,613 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004k saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       206,230
        from master                   206,230  
        from using                          0  

    Matched                         5,854,703  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       205,292
        from master                   205,292  
        from using                          0  

    Matched                         5,855,641  
    -----------------------------------------
(916,899 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,144,034  
    -----------------------------------------
(0 real changes made)
(5,144,034 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,144,034  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,144,034  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        43,453
        from master                    43,453  
        from using                          0  

    Matched                         5,100,581  
    -----------------------------------------
(0 real changes made)
(5,144,034 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        42,016
        from master                    42,016  
        from using                          0  

    Matched                         5,102,018  
    -----------------------------------------
(0 real changes made)
(84,700 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,144,034
        from master                 5,144,034  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,144,034 real changes made)
(5,144,034 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,144,034
        from master                 5,144,034  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,144,034 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 23594
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(14,241 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(9,137 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,345 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,024 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,415 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(813 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(394 missing values generated)
(394 missing values generated)
(394 missing values generated)
(394 missing values generated)
(394 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004l not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004l saved as .dta format
           Appending 2017Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,405,239 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2017Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2017 Q3 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,321,204 obs)
(156,823 observations deleted)
(382,544 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004n saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       198,706
        from master                   198,706  
        from using                          0  

    Matched                         5,583,131  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       193,258
        from master                   193,258  
        from using                          0  

    Matched                         5,588,579  
    -----------------------------------------
(933,613 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,848,224  
    -----------------------------------------
(0 real changes made)
(4,848,224 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,848,224  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,848,224  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,565
        from master                    34,565  
        from using                          0  

    Matched                         4,813,659  
    -----------------------------------------
(0 real changes made)
(4,848,224 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        32,309
        from master                    32,309  
        from using                          0  

    Matched                         4,815,915  
    -----------------------------------------
(0 real changes made)
(66,192 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,848,224
        from master                 4,848,224  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,848,224 real changes made)
(4,848,224 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,848,224
        from master                 4,848,224  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,848,224 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 23769
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(14,410 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(9,172 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,462 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,062 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,456 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(802 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(396 missing values generated)
(396 missing values generated)
(396 missing values generated)
(396 missing values generated)
(396 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004o not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004o saved as .dta format
           Appending 2017Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,428,439 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2017Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2017 Q4 --------------------------------------
(encoding automatically selected: UTF-8)
(15 vars, 6,860,743 obs)
(143,385 observations deleted)
(402,971 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004q saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       173,900
        from master                   173,900  
        from using                          0  

    Matched                         6,140,487  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       172,066
        from master                   172,066  
        from using                          0  

    Matched                         6,142,321  
    -----------------------------------------
(939,885 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,374,502  
    -----------------------------------------
(0 real changes made)
(5,374,502 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,374,502  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,374,502  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        25,792
        from master                    25,792  
        from using                          0  

    Matched                         5,348,710  
    -----------------------------------------
(0 real changes made)
(5,374,502 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        23,815
        from master                    23,815  
        from using                          0  

    Matched                         5,350,687  
    -----------------------------------------
(0 real changes made)
(49,323 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,374,502
        from master                 5,374,502  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,374,502 real changes made)
(5,374,502 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,374,502
        from master                 5,374,502  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,374,502 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 23767
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(14,373 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(9,206 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,304 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,071 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,629 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(814 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(424 missing values generated)
(424 missing values generated)
(424 missing values generated)
(424 missing values generated)
(424 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004r not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004r saved as .dta format
           Appending 2017Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,451,812 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2017Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2018 Q1 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,093,175 obs)
(126,146 observations deleted)
(366,306 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004t saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       173,685
        from master                   173,685  
        from using                          0  

    Matched                         5,427,038  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       172,140
        from master                   172,140  
        from using                          0  

    Matched                         5,428,583  
    -----------------------------------------
(887,163 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,713,560  
    -----------------------------------------
(0 real changes made)
(4,713,560 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,713,560  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         4,713,560  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,143
        from master                    28,143  
        from using                          0  

    Matched                         4,685,417  
    -----------------------------------------
(0 real changes made)
(4,713,560 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        28,562
        from master                    28,562  
        from using                          0  

    Matched                         4,684,998  
    -----------------------------------------
(0 real changes made)
(56,168 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,713,560
        from master                 4,713,560  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,713,560 real changes made)
(4,713,560 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     4,713,560
        from master                 4,713,560  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(4,713,560 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 22349
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(12,319 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(9,855 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(10,495 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(4,689 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(5,412 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(801 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(401 missing values generated)
(401 missing values generated)
(401 missing values generated)
(401 missing values generated)
(401 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004u not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004u saved as .dta format
           Appending 2018Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,475,155 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2018Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2018 Q2 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 7,149,085 obs)
(158,299 observations deleted)
(409,292 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004w saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       204,161
        from master                   204,161  
        from using                          0  

    Matched                         6,377,333  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       205,009
        from master                   205,009  
        from using                          0  

    Matched                         6,376,485  
    -----------------------------------------
(972,710 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,608,784  
    -----------------------------------------
(0 real changes made)
(5,608,784 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,608,784  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,608,784  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        33,884
        from master                    33,884  
        from using                          0  

    Matched                         5,574,900  
    -----------------------------------------
(0 real changes made)
(5,608,784 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        33,599
        from master                    33,599  
        from using                          0  

    Matched                         5,575,185  
    -----------------------------------------
(0 real changes made)
(66,601 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,608,784
        from master                 5,608,784  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,608,784 real changes made)
(5,608,784 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,608,784
        from master                 5,608,784  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,608,784 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 25634
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(14,649 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(10,792 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,051 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,358 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(6,492 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(914 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(441 missing values generated)
(441 missing values generated)
(441 missing values generated)
(441 missing values generated)
(441 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004x not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00004x saved as .dta format
           Appending 2018Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,497,103 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2018Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2018 Q3 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,816,253 obs)
(158,028 observations deleted)
(438,454 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000051 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       205,205
        from master                   205,205  
        from using                          0  

    Matched                         6,014,566  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       199,637
        from master                   199,637  
        from using                          0  

    Matched                         6,020,134  
    -----------------------------------------
(990,728 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,229,043  
    -----------------------------------------
(0 real changes made)
(5,229,043 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,229,043  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,229,043  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        35,483
        from master                    35,483  
        from using                          0  

    Matched                         5,193,560  
    -----------------------------------------
(0 real changes made)
(5,229,043 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        34,241
        from master                    34,241  
        from using                          0  

    Matched                         5,194,802  
    -----------------------------------------
(0 real changes made)
(68,693 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,229,043
        from master                 5,229,043  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,229,043 real changes made)
(5,229,043 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,229,043
        from master                 5,229,043  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,229,043 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 25715
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(14,790 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(10,746 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,053 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,351 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(6,611 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(929 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(414 missing values generated)
(414 missing values generated)
(414 missing values generated)
(414 missing values generated)
(414 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000052 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000052 saved as .dta format
           Appending 2018Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,522,296 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2018Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2018 Q4 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 7,176,258 obs)
(141,816 observations deleted)
(444,031 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000054 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       193,309
        from master                   193,309  
        from using                          0  

    Matched                         6,397,102  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       195,476
        from master                   195,476  
        from using                          0  

    Matched                         6,394,935  
    -----------------------------------------
(988,721 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,601,690  
    -----------------------------------------
(0 real changes made)
(5,601,690 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,601,690  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,601,690  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        39,755
        from master                    39,755  
        from using                          0  

    Matched                         5,561,935  
    -----------------------------------------
(0 real changes made)
(5,601,690 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        40,912
        from master                    40,912  
        from using                          0  

    Matched                         5,560,778  
    -----------------------------------------
(0 real changes made)
(79,517 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,601,690
        from master                 5,601,690  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,601,690 real changes made)
(5,601,690 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,601,690
        from master                 5,601,690  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,601,690 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 25504
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(0 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(14,581 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(10,670 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,868 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,299 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(6,632 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(1,012 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(427 missing values generated)
(427 missing values generated)
(427 missing values generated)
(427 missing values generated)
(427 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000055 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000055 saved as .dta format
           Appending 2018Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,547,597 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2018Q4 data to ./data/processed/combined/airline_data.csv
(25 observations deleted)
--------------------------------- Processing 2019 Q1 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 6,508,753 obs)
(119,818 observations deleted)
(391,341 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000057 saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       195,857
        from master                   195,857  
        from using                          0  

    Matched                         5,801,737  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       192,281
        from master                   192,281  
        from using                          0  

    Matched                         5,805,313  
    -----------------------------------------
(944,690 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,052,904  
    -----------------------------------------
(0 real changes made)
(5,052,904 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,052,904  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,052,904  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        45,917
        from master                    45,917  
        from using                          0  

    Matched                         5,006,987  
    -----------------------------------------
(0 real changes made)
(5,052,904 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        44,556
        from master                    44,556  
        from using                          0  

    Matched                         5,008,348  
    -----------------------------------------
(0 real changes made)
(89,825 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,052,904
        from master                 5,052,904  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,052,904 real changes made)
(5,052,904 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,052,904
        from master                 5,052,904  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,052,904 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 24122
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(13,714 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(10,185 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(11,335 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,018 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(6,012 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(1,046 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(428 missing values generated)
(428 missing values generated)
(428 missing values generated)
(428 missing values generated)
(428 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000058 not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.000058 saved as .dta format
           Appending 2019Q1 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,572,674 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2019Q1 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2019 Q2 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 7,465,479 obs)
(153,863 observations deleted)
(426,086 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005a saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       223,652
        from master                   223,652  
        from using                          0  

    Matched                         6,661,878  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       224,488
        from master                   224,488  
        from using                          0  

    Matched                         6,661,042  
    -----------------------------------------
(1,032,767 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,852,763  
    -----------------------------------------
(0 real changes made)
(5,852,763 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,852,763  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,852,763  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        46,250
        from master                    46,250  
        from using                          0  

    Matched                         5,806,513  
    -----------------------------------------
(0 real changes made)
(5,852,763 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        45,774
        from master                    45,774  
        from using                          0  

    Matched                         5,806,989  
    -----------------------------------------
(0 real changes made)
(91,231 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,852,763
        from master                 5,852,763  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,852,763 real changes made)
(5,852,763 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,852,763
        from master                 5,852,763  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,852,763 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 27829
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(15,981 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(11,419 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,804 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,676 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(7,011 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(1,472 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(471 missing values generated)
(471 missing values generated)
(471 missing values generated)
(471 missing values generated)
(471 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005b not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005b saved as .dta format
           Appending 2019Q2 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,596,368 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2019Q2 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2019 Q3 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 7,141,323 obs)
(134,094 observations deleted)
(419,716 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005d saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       224,779
        from master                   224,779  
        from using                          0  

    Matched                         6,362,734  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       219,807
        from master                   219,807  
        from using                          0  

    Matched                         6,367,706  
    -----------------------------------------
(1,058,226 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,529,287  
    -----------------------------------------
(0 real changes made)
(5,529,287 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,529,287  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,529,287  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        44,318
        from master                    44,318  
        from using                          0  

    Matched                         5,484,969  
    -----------------------------------------
(0 real changes made)
(5,529,287 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        43,085
        from master                    43,085  
        from using                          0  

    Matched                         5,486,202  
    -----------------------------------------
(0 real changes made)
(86,563 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,529,287
        from master                 5,529,287  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,529,287 real changes made)
(5,529,287 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,529,287
        from master                 5,529,287  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,529,287 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 27876
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(16,057 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(11,391 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,933 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,682 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(6,985 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(1,435 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(428 missing values generated)
(428 missing values generated)
(428 missing values generated)
(428 missing values generated)
(428 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005e not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005e saved as .dta format
           Appending 2019Q3 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,623,726 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2019Q3 data to ./data/processed/combined/airline_data.csv
--------------------------------- Processing 2019 Q4 --------------------------------------
(encoding automatically selected: ISO-8859-1)
(15 vars, 7,420,339 obs)
(121,255 observations deleted)
(429,693 observations deleted)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005g saved as .dta format
    ---------  Filtering CONUS airports ---------
(variable originairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       207,421
        from master                   207,421  
        from using                          0  

    Matched                         6,661,970  
    -----------------------------------------
(variable destairportid was int, now long to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                       210,311
        from master                   210,311  
        from using                          0  

    Matched                         6,659,080  
    -----------------------------------------
(1,045,706 observations deleted)
    ---------  Filtering slot-controlled airports ---------
(variable airport_id was float, now double to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,823,685  
    -----------------------------------------
(0 real changes made)
(5,823,685 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,823,685  
    -----------------------------------------
(0 real changes made)
    ---------  Merging destination vacation flags ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                         5,823,685  
    -----------------------------------------
(0 real changes made)
    ---------  Merging airport populations ---------

    Result                      Number of obs
    -----------------------------------------
    Not matched                        46,360
        from master                    46,360  
        from using                          0  

    Matched                         5,777,325  
    -----------------------------------------
(0 real changes made)
(5,823,685 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        47,622
        from master                    47,622  
        from using                          0  

    Matched                         5,776,063  
    -----------------------------------------
(0 real changes made)
(93,253 missing values generated)
    ---------  Merging hub indicators ---------
(variable airport_id was float, now double to accommodate using data's values)
(variable carrier was str2, now str4 to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,823,685
        from master                 5,823,685  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,823,685 real changes made)
(5,823,685 real changes made)

    Result                      Number of obs
    -----------------------------------------
    Not matched                     5,823,685
        from master                 5,823,685  
        from using                          0  

    Matched                                 0  
    -----------------------------------------
(5,823,685 real changes made)
    ---------  Aggregating to (O-D-carrier-quarter) ---------
               Data collapsed to (O-D-carrier-quarter) level successfully, obs: 27142
    ---------  Creating identifiers ---------
origin_str generated as str5
dest_str generated as str5
year_str generated as str4
quarter_str generated as str1
    ---------  Creating carrier flags ---------

. // -----------------------------------------------------------------------------
. // * File:    processing_data.do
. // * Purpose: Contains logit to create major carrier flags
. // *          and carrier type classifications
. // -----------------------------------------------------------------------------
. 
. gen major = 0

. 
. // Use inlist()  does not allowed more than 10 itemrms
. replace major = 1 if year==2019 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","F9","HA")
(15,516 real changes made)

. replace major = 1 if year==2019 & inlist(carrier,"B6","RC","OO","WN","NK","UA")
(11,202 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"AS","G4","AA","5Y","DL","MQ","EV","F9")
(0 real changes made)

. replace major = 1 if year==2018 & inlist(carrier,"HA","B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"AS","G4","AA","5Y","DL","F9","HA","B6")
(0 real changes made)

. replace major = 1 if year==2017 & inlist(carrier,"OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2016 & inlist(carrier,"B6","OO","WN","NK","UA","VX")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2015 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"AS","AA","5Y","DL","MQ","EV","F9","HA")
(0 real changes made)

. replace major = 1 if year==2014 & inlist(carrier,"B6","OO","WN","NK","UA","US","VX")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","EV","F9")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"HA","B6","K4","OO","WN","NK","UA","US")
(0 real changes made)

. replace major = 1 if year==2013 & inlist(carrier,"VX","WO")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"8C","AS","AA","MQ","5Y","DL","F9","HA")
(0 real changes made)

. replace major = 1 if year==2012 & inlist(carrier,"B6","K4","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"8C","AS","AA","MQ","5Y","CO","CS","DL")
(0 real changes made)

. replace major = 1 if year==2011 & inlist(carrier,"F9","HA","B6","OO","WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"CO","DO","F9","HA","B6","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2010 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"CO","DL","F9","HA","B6","YV","NW","OO")
(0 real changes made)

. replace major = 1 if year==2009 & inlist(carrier,"WN","UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"GB","8C","AS","AA","MQ","EV","5Y","OH")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2008 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"GB","8C","AS","AA","MQ","HP","EV","OH")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"CO","DL","F9","B6","YV","NW","OO","WN")
(0 real changes made)

. replace major = 1 if year==2007 & inlist(carrier,"UA","US","WO")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"GB","8C","AS","AA","MQ","TZ","HP","EV")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"OH","CO","DL","B6","NW","OO","WN","UA")
(0 real changes made)

. replace major = 1 if year==2006 & inlist(carrier,"US","WO")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"AS","AA","MQ","TZ","HP","OH","CO","EV")
(0 real changes made)

. replace major = 1 if year==2005 & inlist(carrier,"DL","B6","NW","WN","UA","US","WO")
(0 real changes made)

. 
. // Create carrier type classifications
. gen legacy = 0

. gen lcc = 0

. 
. // Legacy carriers (traditional full-service carriers)
. replace legacy = 1 if inlist(carrier,"AS","AQ","AA","CO","DL")
(12,437 real changes made)

. replace legacy = 1 if inlist(carrier,"HA","NW","TW","UA","US")
(5,479 real changes made)

. 
. // Low-cost carriers
. replace lcc = 1 if inlist(carrier,"TZ","F9","YV","DH","B6","YX","SX","XP","WN")
(7,002 real changes made)

. replace lcc = 1 if inlist(carrier,"NK","SY","U5","VC")
(1,478 real changes made)

. 
. 
. di as text "    Major carrier flags and carrier type classifications created successfully."
    Major carrier flags and carrier type classifications created successfully.

. 
end of do-file
    ---------  Creating rival stats ---------
(0 real changes made)
(449 missing values generated)
(449 missing values generated)
(449 missing values generated)
(449 missing values generated)
(449 observations deleted)
    ---------  Writing data to output file ---------
(file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005h not found)
file /var/folders/xb/mch0wfzd205d97392nxjwj240000gn/T//S_01666.00005h saved as .dta format
           Appending 2019Q4 data to existing file...
(encoding automatically selected: ISO-8859-1)
(35 vars, 1,651,174 obs)
(variable carrier was str2, now str4 to accommodate using data's values)
(variable total_passengers was long, now double to accommodate using data's values)
(variable market_size was float, now double to accommodate using data's values)
(variable origin_hub was byte, now float to accommodate using data's values)
(variable destination_hub was byte, now float to accommodate using data's values)
(variable destination_vacation was byte, now float to accommodate using data's values)
(variable average_distance was float, now double to accommodate using data's values)
(variable average_nonstop_miles was float, now double to accommodate using data's values)
(variable average_fare was float, now double to accommodate using data's values)
(variable average_extra_miles was float, now double to accommodate using data's values)
(variable market was str11, now str25 to accommodate using data's values)
(variable time was str6, now str25 to accommodate using data's values)
(variable major was byte, now float to accommodate using data's values)
(variable legacy was byte, now float to accommodate using data's values)
(variable lcc was byte, now float to accommodate using data's values)
(variable fringe was byte, now float to accommodate using data's values)
(variable fringe_carriers was byte, now float to accommodate using data's values)
(variable num_destinations was int, now float to accommodate using data's values)
(variable num_markets was int, now float to accommodate using data's values)
(variable total_presence was float, now double to accommodate using data's values)
(variable total_num_markets was long, now double to accommodate using data's values)
(variable total_num_destinations was int, now double to accommodate using data's values)
(variable average_presence_rival was float, now double to accommodate using data's values)
(variable average_num_markets_rival was float, now double to accommodate using data's values)
(variable average_num_destinations_rival was float, now double to accommodate using data's values)
(variable average_distance_rival was float, now double to accommodate using data's values)
(variable rival_carriers was byte, now int to accommodate using data's values)
file ./data/processed/combined/airline_data.csv saved
           Successfully wrote 2019Q4 data to ./data/processed/combined/airline_data.csv

. 
. di as result "Done. Wrote: ${OUT_FILE}"
Done. Wrote: ./data/processed/combined/airline_data.csv

. 
. log close
      name:  <unnamed>
       log:  /Users/gisellelab/Work/airlines_merger_simulation/src/logs/processing_data.log
  log type:  text
 closed on:  19 Aug 2025, 18:37:15
--------------------------------------------------------------------------------------------------------------------------
